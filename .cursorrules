# Czarina Repository Documentation Standards

## ğŸ¯ Purpose
These rules ensure the Czarina codebase remains clean, well-documented, and maintainable for all contributors, especially AI Czars working autonomously.

---

## ğŸ“‚ File Organization Rules

### Root Directory
**RULE:** The root directory should contain **ONLY**:
- `README.md` - Main repository overview (concise, delegates to docs/)
- `QUICK_START.md` - 5-minute getting started guide
- `PRODUCTION_READINESS.md` - Production checklist
- `AGENT_COMPATIBILITY.md` - Agent comparison matrix
- `czarina` - Main executable
- `.gitignore`, `LICENSE`, `.cursorrules` - Project config files
- Core directories: `czarina-core/`, `czarina-inbox/`, `agents/`, `projects/`, `docs/`, `archive/`

**MAXIMUM:** 7 markdown files in root (README, QUICK_START, PRODUCTION_READINESS, AGENT_COMPATIBILITY, and 3 project config files)

**DO NOT:**
- âŒ Create new documentation files in root - use `docs/` subdirectories
- âŒ Leave temporary analysis files (`ANALYSIS_*.md`, `SUMMARY_*.md`, `TEMP_*.md`)
- âŒ Create multiple README variations (`README-NEW.md`, `README-OLD.md`)
- âŒ Leave backup files (`*-old`, `*.bak`, `*~`)
- âŒ Create worker-specific docs in root - use project directories

**ENFORCEMENT:**
Before committing, run: `find . -maxdepth 1 -name "*.md" -type f | wc -l`
If count > 4, move extras to `docs/archive/`

### Where Documentation Goes

```
czarina-orchestrator/
â”œâ”€â”€ README.md                           # Main repo overview (concise!)
â”œâ”€â”€ QUICK_START.md                      # 5-minute guide
â”œâ”€â”€ PRODUCTION_READINESS.md             # Production checklist
â”œâ”€â”€ AGENT_COMPATIBILITY.md              # Agent comparison
â”œâ”€â”€ docs/                               # All other documentation
â”‚   â”œâ”€â”€ ARCHITECTURE.md                 # Detailed diagrams and architecture
â”‚   â”œâ”€â”€ guides/                         # User guides and tutorials
â”‚   â”œâ”€â”€ integration/                    # Integration and migration docs
â”‚   â”œâ”€â”€ analysis/                       # Analysis and summary documents
â”‚   â””â”€â”€ archive/                        # Legacy and outdated docs
â”œâ”€â”€ czarina-core/
â”‚   â”œâ”€â”€ README.md                       # Core framework overview
â”‚   â””â”€â”€ docs/                           # Core framework documentation
â”‚       â”œâ”€â”€ GETTING_STARTED.md
â”‚       â”œâ”€â”€ DAEMON_SYSTEM.md
â”‚       â””â”€â”€ ...
â”œâ”€â”€ czarina-inbox/
â”‚   â”œâ”€â”€ README.md                       # Inbox system guide
â”‚   â”œâ”€â”€ templates/                      # Submission templates
â”‚   â”œâ”€â”€ fixes/                          # Submitted fixes
â”‚   â”œâ”€â”€ feedback/                       # Submitted feedback
â”‚   â””â”€â”€ sessions/                       # Session notes
â””â”€â”€ projects/
    â””â”€â”€ [project-name]/
        â”œâ”€â”€ README.md                   # Project-specific docs
        â””â”€â”€ docs/                       # Project-specific documentation
```

---

## ğŸ“ Documentation Placement Rules

### When Creating Documentation

**IF:** Writing about Czarina framework internals
**THEN:** Place in `czarina-core/docs/`
**EXAMPLES:** DAEMON_SYSTEM.md, AGENT_TYPES.md, CZAR_GUIDE.md

**IF:** Writing a user guide or tutorial
**THEN:** Place in `docs/guides/`
**EXAMPLES:** Getting started guides, how-to tutorials

**IF:** Writing architecture or design decisions
**THEN:** Place in `docs/architecture/`
**EXAMPLES:** Architecture diagrams, design rationale

**IF:** Writing integration or migration docs
**THEN:** Place in `docs/integration/`
**EXAMPLES:** Migration guides, integration plans

**IF:** Writing analysis or summary documents
**THEN:** Place in `docs/analysis/`
**EXAMPLES:** Status reports, improvement summaries

**IF:** Documenting a fix/improvement you made
**THEN:** Use the inbox system: `czarina-inbox/fixes/`
**EXAMPLES:** Bug fixes, improvements, session notes

**IF:** It's project-specific documentation
**THEN:** Place in `projects/[project-name]/docs/`
**EXAMPLES:** SARK session notes, project-specific guides

### Special Cases

**Temporary analysis files during work:**
- Keep them in a work directory or delete when done
- If valuable, move to `docs/analysis/` with a clear name
- Never commit files named `TEMP_*.md` or `SCRATCH_*.md`

**README files:**
- Only ONE README per directory
- No `README-NEW.md`, `README-OLD.md`, `README-BACKUP.md`
- Use git history if you need old versions

---

## ğŸ¨ README Requirements

### Root README.md MUST be concise

**Hard Limits:**
- Maximum 250 lines total
- ONE simple horizontal flow diagram only
- Delegate details to `docs/ARCHITECTURE.md` and other docs
- Focus on "why" and "what", not "how"

**Required Structure:**
1. Title and tagline (1 line)
2. ONE horizontal flow diagram (human â†’ czar â†’ workers â†’ git)
3. Quick start (4-6 commands max)
4. Key features (6-8 bullet points)
5. Links to detailed docs

**Forbidden in root README:**
- âŒ Multiple mermaid diagrams (use docs/ARCHITECTURE.md)
- âŒ Vertical/complex diagrams
- âŒ Sequence diagrams, state diagrams, decision trees
- âŒ Repository structure diagrams
- âŒ Detailed architecture explanations
- âŒ Long code examples (> 10 lines)

### Other README files

1. **Clear title and purpose**
   ```markdown
   # Component Name
   Brief one-line description
   ```

2. **Quick start section**
   - How to use in 3-5 commands
   - Common use cases

3. **Links to related documentation**

### Mermaid Diagram Standards

**Location for detailed diagrams:**
- `docs/ARCHITECTURE.md` - System architecture, detailed flows
- Component docs - Component-specific diagrams

**Root README gets ONE diagram:**
- Horizontal flow (LR orientation)
- Maximum 8 nodes
- Shows high-level flow only
- Human â†’ System â†’ Output

**Keep all diagrams:**
- Clean and readable
- Focused on one concept
- Properly labeled
- Consistently styled

---

## ğŸš€ Before You Commit

### Pre-Commit Checklist

**Documentation:**
- [ ] No loose documentation files in root
- [ ] All docs in appropriate directories
- [ ] README files updated if structure changed
- [ ] Mermaid diagrams rendered correctly
- [ ] No broken links

**Code:**
- [ ] Code is in correct directory structure
- [ ] No temporary/test files committed
- [ ] Scripts are executable (`chmod +x`)
- [ ] Config examples provided (not actual secrets)

**Cleanup:**
- [ ] Removed debug/analysis files
- [ ] Deleted duplicate documentation
- [ ] Moved archived files to `archive/`
- [ ] No `TODO.md` files unless in issue tracker

---

## ğŸ”§ Auto-Cleanup Commands

Before committing, run these:

```bash
# Check root markdown count (must be â‰¤ 4)
find . -maxdepth 1 -name "*.md" -type f | wc -l
# Expected: 4 (README, QUICK_START, PRODUCTION_READINESS, AGENT_COMPATIBILITY)

# Find extra documentation files in root
find . -maxdepth 1 -name "*.md" ! -name "README.md" ! -name "QUICK_START.md" ! -name "PRODUCTION_READINESS.md" ! -name "AGENT_COMPATIBILITY.md" -type f

# Find temporary/scratch files
find . -name "TEMP_*.md" -o -name "SCRATCH_*.md" -o -name "*-OLD.md" -o -name "*-old" -o -name "*.bak"

# Check for duplicate READMEs
find . -name "README*.md" | grep -v "^./README.md$" | grep -v "/README.md$"

# Check README line count (must be â‰¤ 250)
wc -l README.md
```

**Action:**
- If root has > 4 .md files: move extras to `docs/archive/`
- If README > 250 lines: extract details to `docs/ARCHITECTURE.md`
- Delete all temporary/backup files
- Remove duplicate READMEs

---

## ğŸ“Š Documentation Quality Standards

### Every document should answer:
1. **What is this?** - Clear purpose statement
2. **Who is this for?** - Target audience
3. **How do I use it?** - Quick start or examples
4. **Where can I learn more?** - Links to related docs

### Writing Style:
- âœ… Clear, concise, actionable
- âœ… Use examples and code snippets
- âœ… Include diagrams for complex concepts
- âœ… Link to related documentation
- âŒ No walls of text without structure
- âŒ No orphaned documents (always linked from somewhere)
- âŒ No outdated information (update or archive)

---

## ğŸ­ For AI Czars

### When Working Autonomously:

**DO:**
- âœ… Follow directory structure strictly
- âœ… Use inbox system for improvements
- âœ… Add mermaid diagrams to READMEs
- âœ… Update documentation when changing code
- âœ… Create small, focused documents
- âœ… Link documents together
- âœ… Reference development patterns when encountering issues

**DON'T:**
- âŒ Create temporary analysis files in root
- âŒ Leave documentation scattered
- âŒ Create duplicate README files
- âŒ Skip documentation updates
- âŒ Make up your own directory structure

### Development Patterns

**Before starting work**, familiarize yourself with:
- `czarina-core/patterns/ERROR_RECOVERY_PATTERNS.md` - Common errors and solutions
- `czarina-core/patterns/MODE_CAPABILITIES.md` - Understanding role boundaries (Kilo Code)
- `czarina-core/patterns/TOOL_USE_PATTERNS.md` - Efficient tool usage

**When encountering errors:**
1. Check ERROR_RECOVERY_PATTERNS.md first
2. Follow documented recovery strategies
3. Document new patterns you discover (use inbox)

**Pattern benefits:**
- 30-50% reduction in debugging time
- 40-60% improvement in tool efficiency
- Proven in real projects (The Symposium, SARK v2.0)

**Discovered a new pattern? Share it!**
1. Document in `czarina-inbox/patterns/`
2. Check pending: `czarina patterns pending`
3. Contribute upstream to help the community
4. See: `czarina-core/patterns/PATTERN_CONTRIBUTION_GUIDE.md`

**Backchannel:** Your discoveries flow to all Czarina instances worldwide ğŸŒ

### When in Doubt:

1. Check this file (`.cursorrules`)
2. Check development patterns (`czarina-core/patterns/`)
3. Look at existing documentation structure
4. Use the inbox system (`czarina-inbox/`)
5. Ask the human if uncertain

---

## ğŸ—ï¸ Creating New Components

**When creating a new component:**

1. **Create directory structure:**
   ```bash
   mkdir -p czarina-[component]/docs
   ```

2. **Create README.md with:**
   - Title and purpose
   - Mermaid architecture diagram
   - Quick start
   - Link to detailed docs

3. **Create documentation:**
   - Place in `czarina-[component]/docs/`
   - Follow naming convention: `CONCEPT_NAME.md`
   - Include examples and diagrams

4. **Update main README:**
   - Add component to structure diagram
   - Link to component README
   - Update quick links table

---

## ğŸ¯ Success Metrics

**The repository is clean when:**
- Root directory has < 5 markdown files
- All documentation is categorized
- No duplicate or outdated files
- Every README has mermaid diagrams
- Links work and point to current docs
- New contributors can navigate easily

---

## ğŸš¨ Common Violations

### âŒ WRONG:
```bash
# Creating analysis docs in root
touch DAEMON_ANALYSIS.md
touch INTEGRATION_SUMMARY.md
touch IMPROVEMENTS_LIST.md

# Duplicate READMEs
touch README-NEW.md
touch README-BACKUP.md

# Temporary files left behind
touch TEMP_NOTES.md
touch SCRATCH_IDEAS.md
```

### âœ… RIGHT:
```bash
# Proper organization
mkdir -p docs/analysis
touch docs/analysis/daemon-integration.md

# Use inbox for improvements
touch czarina-inbox/sessions/2025-11-29-session-notes.md

# Single README, use git for history
# (just edit README.md)
```

---

## ğŸ“‹ Enforcement

**These rules are enforced:**
1. **By AI Czars** - Must follow before committing
2. **By code review** - Humans check structure
3. **By pre-commit hooks** - Automated checks (future)
4. **By documentation** - This file and examples

**If you see violations:**
- Use inbox to report: `czarina-inbox/feedback/`
- Or fix immediately and note in commit
- Update this file if rules need clarification

---

## ğŸ”„ Updating These Rules

**To update `.cursorrules`:**
1. Discuss changes in inbox or issues
2. Update this file
3. Update affected documentation
4. Announce changes in commit message
5. Update examples to match

---

**Version:** 1.0
**Last Updated:** 2025-11-29
**Status:** Active - All Czars must follow
**Enforcement:** Immediate - Apply to all new commits

---

> **Remember:** Clean documentation = Happy developers = Better Czarina! ğŸ¯
